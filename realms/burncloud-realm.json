{
"realm": "burncloud",
"displayName": "BurnCloud AI Platform",
"displayNameHtml": "<div class=\"kc-logo-text\"><span>BurnCloud AI Platform</span></div>",
"enabled": true,
"sslRequired": "all",
"registrationAllowed": true,
"registrationEmailAsUsername": false,
"rememberMe": true,
"verifyEmail": true,
"loginWithEmailAllowed": true,
"duplicateEmailsAllowed": false,
"resetPasswordAllowed": true,
"editUsernameAllowed": true,
"bruteForceProtected": true,
"permanentLockout": false,
"maxFailureWaitSeconds": 900,
"minimumQuickLoginWaitSeconds": 60,
"waitIncrementSeconds": 60,
"quickLoginCheckMilliSeconds": 1000,
"maxDeltaTimeSeconds": 43200,
"failureFactor": 30,
"defaultRoles": ["default-roles-burncloud", "offline_access", "uma_authorization"],
"requiredCredentials": ["password"],
"otpPolicyType": "totp",
"otpPolicyAlgorithm": "HmacSHA1",
"otpPolicyInitialCounter": 0,
"otpPolicyDigits": 6,
"otpPolicyLookAheadWindow": 1,
"otpPolicyPeriod": 30,
"accessTokenLifespan": 3600,
"accessTokenLifespanForImplicitFlow": 900,
"ssoSessionIdleTimeout": 1800,
"ssoSessionMaxLifespan": 36000,
"offlineSessionIdleTimeout": 2592000,
"accessCodeLifespan": 60,
"accessCodeLifespanUserAction": 300,
"accessCodeLifespanLogin": 1800,
"actionTokenGeneratedByAdminLifespan": 43200,
"actionTokenGeneratedByUserLifespan": 300,
"oauth2DeviceCodeLifespan": 600,
"oauth2DevicePollingInterval": 5,
"internationalizationEnabled": true,
"supportedLocales": ["en", "zh-CN", "zh-TW"],
"defaultLocale": "zh-CN",
"smtpServer": {
  "host": "smtp.example.com",
  "port": "587",
  "from": "noreply@burncloud.com",
  "fromDisplayName": "BurnCloud Platform",
  "starttls": "true",
  "auth": "true"
},
"loginTheme": "keycloak",
"accountTheme": "keycloak.v2",
"adminTheme": "keycloak.v2",
"emailTheme": "keycloak",
"eventsEnabled": true,
"eventsExpiration": 259200,
"enabledEventTypes": ["LOGIN", "LOGIN_ERROR", "REGISTER", "REGISTER_ERROR", "LOGOUT", "LOGOUT_ERROR"],
"adminEventsEnabled": true,
"adminEventsDetailsEnabled": true,
"identityProviders": [],
"identityProviderMappers": [],
"components": {
  "org.keycloak.services.clientregistration.policy.ClientRegistrationPolicy": [
    {
      "name": "Trusted Hosts",
      "providerId": "trusted-hosts",
      "subType": "anonymous",
      "config": {
        "host-sending-registration-request-must-match": ["true"],
        "client-uris-must-be-non-loopback": ["true"]
      }
    },
    {
      "name": "Consent Required",
      "providerId": "consent-required",
      "subType": "anonymous"
    },
    {
      "name": "Full Scope Disabled",
      "providerId": "scope",
      "subType": "anonymous"
    },
    {
      "name": "Max Clients Limit",
      "providerId": "max-clients",
      "subType": "anonymous",
      "config": {
        "max-clients": ["200"]
      }
    }
  ]
},
"users": [
  {
    "username": "demo",
    "enabled": true,
    "emailVerified": true,
    "firstName": "Demo",
    "lastName": "User",
    "email": "demo@burncloud.ai",
    "attributes": {
      "bio": ["Demo user for BurnCloud AI platform"],
      "department": ["Development"],
      "role_type": ["regular-user", "developer"]
    },
    "credentials": [
      {
        "type": "password",
        "value": "demo123",
        "temporary": false
      }
    ],
    "realmRoles": ["default-roles-burncloud", "regular-user", "developer"],
    "clientRoles": {
      "strapi-cms": ["content-viewer"],
      "discourse-community": ["forum-user"]
    }
  },
  {
    "username": "admin",
    "enabled": true,
    "emailVerified": true,
    "firstName": "Admin",
    "lastName": "User",
    "email": "admin@burncloud.ai",
    "attributes": {
      "bio": ["Platform administrator with full access"],
      "department": ["Administration"],
      "role_type": ["super-admin"]
    },
    "credentials": [
      {
        "type": "password",
        "value": "admin123",
        "temporary": true
      }
    ],
    "realmRoles": ["default-roles-burncloud", "super-admin"],
    "clientRoles": {
      "strapi-cms": ["content-manager", "admin"],
      "discourse-community": ["forum-moderator", "admin"],
      "commerce-platform": ["commerce-admin"]
    }
  }
],
"roles": {
  "realm": [
    {
      "name": "default-roles-burncloud",
      "description": "${role_default-roles}",
      "composite": true,
      "composites": {
        "realm": ["offline_access", "uma_authorization"],
        "client": {
          "account": ["view-profile", "manage-account"]
        }
      }
    },
    {
      "name": "super-admin",
      "description": "超级管理员 - 拥有所有权限"
    },
    {
      "name": "content-manager",
      "description": "内容管理员 - Strapi内容管理权限"
    },
    {
      "name": "forum-moderator",
      "description": "论坛版主 - Discourse管理权限"
    },
    {
      "name": "commerce-admin",
      "description": "商城管理员 - 商城系统管理权限"
    },
    {
      "name": "regular-user",
      "description": "普通用户 - 基础浏览和互动权限"
    },
    {
      "name": "developer",
      "description": "开发者 - API访问权限"
    }
  ]
},
"groups": [
  {
    "name": "Regular Users",
    "path": "/Regular Users",
    "realmRoles": ["regular-user"]
  },
  {
    "name": "Content Managers",
    "path": "/Content Managers",
    "realmRoles": ["content-manager", "regular-user"]
  },
  {
    "name": "Forum Moderators",
    "path": "/Forum Moderators",
    "realmRoles": ["forum-moderator", "regular-user"]
  },
  {
    "name": "Commerce Admins",
    "path": "/Commerce Admins",
    "realmRoles": ["commerce-admin", "regular-user"]
  },
  {
    "name": "Super Administrators",
    "path": "/Super Administrators",
    "realmRoles": ["super-admin", "content-manager", "forum-moderator", "commerce-admin", "regular-user"]
  },
  {
    "name": "Developers",
    "path": "/Developers",
    "realmRoles": ["developer", "regular-user"]
  }
],
"clients": [
  {
    "clientId": "strapi-cms",
    "name": "Strapi CMS Application",
    "description": "BurnCloud Strapi内容管理系统",
    "enabled": true,
    "publicClient": true,
    "standardFlowEnabled": true,
    "implicitFlowEnabled": false,
    "directAccessGrantsEnabled": false,
    "serviceAccountsEnabled": false,
    "frontchannelLogout": true,
    "protocol": "openid-connect",
    "redirectUris": [
      "https://testwww.burncloud.com/auth/keycloak/callback",
      "https://testwww.burncloud.com/admin/auth/keycloak/callback"
    ],
    "webOrigins": [
      "https://testwww.burncloud.com"
    ],
    "attributes": {
      "pkce.code.challenge.method": "S256",
      "use.refresh.tokens": "true",
      "exclude.session.state.from.auth.response": "false"
    },
    "defaultClientScopes": ["profile", "email", "roles", "web-origins"],
    "optionalClientScopes": ["address", "phone", "offline_access"],
    "protocolMappers": [
      {
        "name": "strapi-roles",
        "protocol": "openid-connect",
        "protocolMapper": "oidc-usermodel-client-role-mapper",
        "consentRequired": false,
        "config": {
          "user.attribute": "foo",
          "access.token.claim": "true",
          "claim.name": "strapi_roles",
          "jsonType.label": "String",
          "multivalued": "true"
        }
      }
    ]
  },
  {
    "clientId": "discourse-community",
    "name": "Discourse Community",
    "description": "BurnCloud社区论坛系统",
    "enabled": true,
    "publicClient": true,
    "standardFlowEnabled": true,
    "implicitFlowEnabled": false,
    "directAccessGrantsEnabled": false,
    "serviceAccountsEnabled": false,
    "frontchannelLogout": true,
    "protocol": "openid-connect",
    "redirectUris": [
      "https://testcommunity.burncloud.cn/auth/keycloak/callback"
    ],
    "webOrigins": [
      "https://testcommunity.burncloud.cn"
    ],
    "attributes": {
      "use.refresh.tokens": "true",
      "exclude.session.state.from.auth.response": "false"
    },
    "defaultClientScopes": ["profile", "email", "roles", "web-origins"],
    "optionalClientScopes": ["address", "phone", "offline_access"],
    "protocolMappers": [
      {
        "name": "discourse-roles",
        "protocol": "openid-connect",
        "protocolMapper": "oidc-usermodel-client-role-mapper",
        "consentRequired": false,
        "config": {
          "user.attribute": "foo",
          "access.token.claim": "true",
          "claim.name": "discourse_roles",
          "jsonType.label": "String",
          "multivalued": "true"
        }
      }
    ]
  },
  {
    "clientId": "commerce-platform",
    "name": "Commerce Platform",
    "description": "BurnCloud商城系统（预留）",
    "enabled": true,
    "publicClient": true,
    "standardFlowEnabled": true,
    "implicitFlowEnabled": false,
    "directAccessGrantsEnabled": false,
    "serviceAccountsEnabled": false,
    "frontchannelLogout": true,
    "protocol": "openid-connect",
    "redirectUris": [
      "https://shop.burncloud.com/auth/keycloak/callback"
    ],
    "webOrigins": [
      "https://shop.burncloud.com"
    ],
    "attributes": {
      "use.refresh.tokens": "true",
      "exclude.session.state.from.auth.response": "false"
    },
    "defaultClientScopes": ["profile", "email", "roles", "web-origins"],
    "optionalClientScopes": ["address", "phone", "offline_access"],
    "protocolMappers": [
      {
        "name": "commerce-roles",
        "protocol": "openid-connect",
        "protocolMapper": "oidc-usermodel-client-role-mapper",
        "consentRequired": false,
        "config": {
          "user.attribute": "foo",
          "access.token.claim": "true",
          "claim.name": "commerce_roles",
          "jsonType.label": "String",
          "multivalued": "true"
        }
      }
    ]
  }
],
"clientScopes": [
  {
    "name": "address",
    "description": "OpenID Connect built-in scope: address",
    "protocol": "openid-connect",
    "attributes": {
      "include.in.token.scope": "true",
      "display.on.consent.screen": "true",
      "consent.screen.text": "${addressScopeConsentText}"
    }
  },
  {
    "name": "phone",
    "description": "OpenID Connect built-in scope: phone",
    "protocol": "openid-connect",
    "attributes": {
      "include.in.token.scope": "true",
      "display.on.consent.screen": "true",
      "consent.screen.text": "${phoneScopeConsentText}"
    }
  },
  {
    "name": "offline_access",
    "description": "OpenID Connect built-in scope: offline_access",
    "protocol": "openid-connect",
    "attributes": {
      "consent.screen.text": "${offlineAccessScopeConsentText}",
      "display.on.consent.screen": "true"
    }
  }
],
"browserSecurityHeaders": {
  "contentSecurityPolicyReportOnly": "",
  "xContentTypeOptions": "nosniff",
  "xRobotsTag": "none",
  "xFrameOptions": "SAMEORIGIN",
  "contentSecurityPolicy": "frame-src 'self'; frame-ancestors 'self'; object-src 'none';",
  "xXSSProtection": "1; mode=block",
  "strictTransportSecurity": "max-age=31536000; includeSubDomains"
}
}